<!DOCTYPE html>
<html lang="en" class="scroll-pt-32">

<head>
    <title>Getting Started
</title>
    <meta charset="utf-8">
    <meta name="description" content="FAKE - F# Make - A DSL for build tasks - guide page">
    <link rel="apple-touch-icon" sizes="180x180" href="/content/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/content/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/content/favicon-16x16.png">
    <link rel="manifest" href="/content/site.webmanifest">
    <link rel="mask-icon" href="/content/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">

    <meta name="author" content="Steffen Forkmann;Mauricio Scheffer;Colin Bull;Matthias Dittrich">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link type="text/css" rel="stylesheet" href="/content/fsdocs-default.css">
    <script type="text/javascript" src="/content/fsdocs-tips.js"></script>

    <link type="text/css" rel="stylesheet" href="/content/assets/css/style.css">
    <link type="text/css" rel="stylesheet" href="/content/assets/css/prism.css">
    <link type="text/css" rel="stylesheet" href="/content/assets/css/tailwind.css">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    
</head>

<body
    class="font-fake antialiased min-h-screen transition duration-200 text-slate-500 lg:bg-white relative lg:flex lg:flex-col"
    x-data="{open: false}" :class="{'bg-gray-100 overflow-hidden': open === true}">
    <header class="sticky inset-0 flex flex-col md:flex-row lg:h-20 lg:px-8 justify-between items-center py-4 border-b lg:border 
    lg:border-t-0 lg:border-r-0 lg:border-l-0 lg:shadow border-b-[#d4b43c]/50 mx-4 lg:mx-0"
        :class="{'bg-white': open === false}">
        <div class="flex gap-2 items-center block">
            <a class="flex items-center gap-2" href="/index.html">
                <img src="/content/assets/img/logo.svg" alt="FAKE - F# Make - A DSL for build tasks and more"
                    width="28" height="28" class="w-10 h-10">
                <span class="text-lg text-slate-900 font-bold hover:text-[#d4b43c]">FAKE</span>
            </a>
            <div class="border border-l-2 border-l-[#d4b43c] ml-10 p-1 px-2 rounded-r">
                <span>6.1.1</span>
            </div>
            <button
                class="flex block border-slate-700 md:hidden hover:border-[#d4b43c] text-slate-700 hover:text-[#d4b43c]"
                @click="open = true">

                <span class="group-hover:text-[#d4b43c] group-hover:visible inline-block -mr-2 transform rotate-180">
                    <svg class="h-5 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </span>
            </button>
        </div>
        <div class="flex items-center pt-10 md:pt-0">
            <div class="md:mr-5">
                <ul class="flex space-x-4">
                    <li><a class="font-medium hover:text-[#d4b43c]" href="/reference/index.html">API Docs</a>
                    </li>
                    <li class="md:hidden">|</li>
                    <li><a class="font-medium hover:text-[#d4b43c]" href="/guide.html">Guide</a></li>
                </ul>
            </div>
            <button
                class="border-slate-700 hidden md:block lg:hidden hover:border-[#d4b43c] text-slate-700 hover:text-[#d4b43c]"
                @click="open = true">

                <span class="group-hover:text-[#d4b43c] group-hover:visible inline-block -mr-2 transform rotate-180">
                    <svg class="h-5 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </span>
            </button>
            <div class="hidden lg:block relative ml-auto">
                <div class="flex items-center">
                    <a href="https://github.com/fsprojects/fake"
                        class="ml-3 block text-slate-400 hover:text-[#d4b43c]"><span class="sr-only">FAKE GitHub
                            Repository</span>
                        <svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentColor" aria-hidden="true">
                            <path
                                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                            </path>
                        </svg>
                    </a>
                    <a href="https://fsharp.slack.com/" class="ml-3 block text-slate-400 hover:text-[#d4b43c]"><span
                            class="sr-only">FSharp Slack Workspace</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M15.125 3.668a1.833 1.833 0 1 0-3.668 0v5.039a1.834 1.834 0 1 0 3.668 0Zm4.582 5.039a1.83 1.83 0 0 1-1.832 1.836h-1.832V8.707a1.83 1.83 0 0 1 1.832-1.832 1.83 1.83 0 0 1 1.832 1.832Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M3.668 6.418A1.83 1.83 0 0 0 1.832 8.25a1.83 1.83 0 0 0 1.836 1.832h5.039a1.83 1.83 0 0 0 1.836-1.832 1.83 1.83 0 0 0-1.836-1.832Zm5.039-4.586c1.016 0 1.836.82 1.836 1.836V5.5H8.707a1.832 1.832 0 0 1-1.832-1.832c0-1.016.82-1.836 1.832-1.836Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M6.418 17.879c0 1.012.816 1.828 1.832 1.828a1.826 1.826 0 0 0 1.832-1.828v-5.035a1.83 1.83 0 0 0-1.832-1.832 1.83 1.83 0 0 0-1.832 1.832Zm-4.586-5.035c0-1.012.82-1.832 1.836-1.832H5.5v1.832c0 1.008-.82 1.828-1.832 1.828a1.832 1.832 0 0 1-1.836-1.828Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M17.875 15.125a1.83 1.83 0 0 0 1.832-1.832 1.83 1.83 0 0 0-1.832-1.836h-5.043c-1.012 0-1.832.82-1.832 1.836 0 1.012.82 1.832 1.832 1.832Zm-5.043 4.582A1.83 1.83 0 0 1 11 17.875v-1.832h1.832a1.83 1.83 0 0 1 1.836 1.832 1.83 1.83 0 0 1-1.836 1.832Zm0 0" />
                        </svg>
                    </a>
                    <a href="https://twitter.com/fsharpMake"
                        class="ml-2 block text-slate-400 hover:text-[#d4b43c]"><span class="sr-only">FAKE Twitter
                            Account</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26">
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M22.75 6.73a8.058 8.058 0 0 1-2.3.633 4.005 4.005 0 0 0 1.76-2.199 8.026 8.026 0 0 1-2.542.961 4.001 4.001 0 0 0-2.918-1.25c-2.207 0-4 1.777-4 3.965 0 .308.035.613.105.906A11.409 11.409 0 0 1 4.61 5.598a3.91 3.91 0 0 0-.543 1.996c0 1.379.707 2.59 1.782 3.304a4.08 4.08 0 0 1-1.817-.496v.047c0 1.922 1.38 3.524 3.211 3.89-.336.09-.687.141-1.054.141a4.01 4.01 0 0 1-.754-.074 4.014 4.014 0 0 0 3.738 2.758 8.105 8.105 0 0 1-4.969 1.695c-.324 0-.64-.015-.953-.054a11.43 11.43 0 0 0 6.133 1.777c7.36 0 11.383-6.043 11.383-11.285 0-.172-.004-.34-.012-.512A7.863 7.863 0 0 0 22.75 6.73" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <div
            class="absolute flex justify-center md:right-0 mt-[7.5rem] md:mt-[6rem] lg:mt-[6.5rem] mr-0 md:mr-8 px-10 lg:px-4 bg-[#d4b43c] text-white rounded-b shadow">
            <a target="_blank"
                href="https://github.com/fsprojects/FAKE/blob/master/docs/guide/getting-started.md">Edit this page</a>
        </div>
    </header>

    <div class="lg:ml-[25rem] min-w-0 lg:px-16">
        <nav class="fixed inset-0 transform lg:mt-20 pb-10 lg:transform-none lg:opacity-100 duration-200 z-10 min-w-[25rem]
         w-80 bg-[#f9f9f9] overflow-y-scroll shadow-xl lg:shadow-none pl-4 pr-4 lg:pl-8 lg:pr-8" role="navigation"
            aria-label="main navigation"
            :class="{'translate-x-0 ease-in opacity-100': open === true, '-translate-x-full ease-out opacity-0' : open === false}">
            <div class=" sticky inset-0 flex justify-between items-center bg-[#f9f9f9] py-4 border-b border-[#d4b43c]/50
            lg:hidden">
                <div class="flex gap-2 items-center">
                    <a class="flex items-center gap-2" href="/index.html">
                        <img src="/content/assets/img/logo.svg"
                            alt="FAKE - F# Make - A DSL for build tasks and more" width="28" height="28"
                            class="w-10 h-10">
                        <span class="text-lg text-slate-900 font-bold hover:text-[#d4b43c]">FAKE</span>
                    </a>
                </div>
                <button
                    class="flex block border-r-2 border-slate-700 hover:border-[#d4b43c] text-slate-700 lg:hidden hover:text-[#d4b43c]"
                    @click="open = false">
                    <span
                        class="group-hover:text-[#d4b43c] group-hover:visible inline-block -mr-2 transform rotate-180">
                        <svg class="h-5 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </span>
                </button>
            </div>

            <h5 class="mt-10 mb-8 lg:mb-3 font-semibold text-slate-900">
                Guide
            </h5>
            <ul class="space-y-6 lg:space-y-2 border-l" x-data="{nav: []}" x-init="
                fetch('/data.json')
                .then(response => response.json())
                .then(response => nav = response.guide)
            ">
                <template x-for="navItem in nav">
                    <li class="group mt-12 lg:mt-8">
                        <a class="flex block border-l pl-4 -ml-px border-transparent hover:border-[#d4b43c] hover:text-[#d4b43c]"
                            :href="navItem.href"
                            :class="window.location.pathname.startsWith(navItem.href.replace('.html', '')) ? 'text-\[#d4b43c\]' : 'text-slate-700'">
                            <span class=" invisible group-hover:text-[#d4b43c] group-hover:visible inline-block
                                -ml-6 text-slate-300">
                                <svg class="h-4 w-6 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </span>
                            <span class="inline-block" x-text="navItem.title"></span>
                        </a>
                    </li>
                </template>
            </ul>

            <h5 class="mt-10 mb-8 lg:mb-3 font-semibold text-slate-900">
                Articles
            </h5>
            <ul class="space-y-6 lg:space-y-2 border-l" x-data="{nav: []}" x-init="
                fetch('/data.json')
                .then(response => response.json())
                .then(response => nav = response.articles)
            ">
                <template x-for="navItem in nav">
                    <li class="group mt-12 lg:mt-8">
                        <a class="flex block border-l pl-4 -ml-px border-transparent hover:border-[#d4b43c] hover:text-[#d4b43c]"
                            :href="navItem.href"
                            :class="window.location.pathname === navItem.href ? 'text-\[#d4b43c\]' : 'text-slate-700'">
                            <span class=" invisible group-hover:text-[#d4b43c] group-hover:visible inline-block
                                -ml-6 text-slate-300">
                                <svg class="h-4 w-6 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </span>
                            <span class="inline-block" x-text="navItem.title"></span>
                        </a>
                    </li>
                </template>
            </ul>
        </nav>
        <div class="max-w-[50rem] mt-16 mx-4 lg:mx-auto px-4 py-4 md:flex text-justify justify-start border border-l-4 border-l-[#d4b43c]">
            <p>Lookig for older versions of the documentation, pre FAKE v6? See&nbsp;</p>
            <p>
                <a target="_blank" href="https://v5.fake.build/" class="flex items-center text-slate-700 hover:text-[#d4b43c]">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z">
                        </path>
                        <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z">
                        </path>
                    </svg>
                    <span class="underline">v5.fake.build</span>
                </a>
            </p>
        </div>
        <div id="content"
            class="md:w-none min-h-screen mx-auto mt-8 px-4 lg:px-0 lg:mt-20 prose max-w-none md:prose-lg max-w-[50rem] prose-a:no-underline hover:prose-a:text-[#d4b43c]">
            <h1><a name="Getting-Started" class="anchor" href="#Getting-Started">Getting Started</a></h1>
<p>Table of Content:</p>
<ul>
<li>
<a href="#Different-ways-to-run-FAKE">Different ways to run FAKE</a>
<ul>
<li><a href="#Run-FAKE-using-FAKE-runner">Run FAKE using FAKE runner</a></li>
<li><a href="#Run-FAKE-using-F-interactive-FSI">Run FAKE using F# interactive (FSI)</a></li>
<li><a href="#Run-FAKE-using-a-dedicated-build-project">Run FAKE using a dedicated build project</a></li>
</ul>
</li>
<li>
<a href="#Install-FAKE-Runner">Install FAKE Runner</a>
<ul>
<li><a href="#One-note-on-Intellisense">One note on Intellisense</a></li>
</ul>
</li>
<li>
<a href="#Examples">Examples</a>
<ul>
<li><a href="#Minimal-Example">Minimal Example</a></li>
<li>
<a href="#Compiling-and-Building-your-NET-Application">Compiling and Building your .NET Application</a>
<ul>
<li><a href="#Getting-Started">Getting Started</a></li>
<li><a href="#Cleaning-Output-From-a-Previous-Build">Cleaning Output From a Previous Build</a></li>
<li><a href="#Compiling-the-Application">Compiling the Application</a></li>
<li><a href="#Compiling-Test-Projects">Compiling Test Projects</a></li>
<li><a href="#Running-the-Tests-with-NUnit">Running the Tests with NUnit</a></li>
</ul>
</li>
<li><a href="#Advanced-Examples">Advanced Examples</a></li>
</ul>
</li>
<li><a href="#Runtime-Assemblies-in-FAKE-Runner">Runtime Assemblies in FAKE Runner</a></li>
<li><a href="#Get-to-Know-FAKE-CLI">Get to Know FAKE CLI</a></li>
<li><a href="#What-s-Next">What's Next?</a></li>
</ul>
<p>In this tutorial you will learn how to set up a complete build infrastructure with FAKE. This includes:
how to install and use the latest FAKE version, how to edit and run scripts, how to automatically compile
your C# or F# projects, and finally how to automatically run NUnit tests on your projects.</p>
<blockquote>
<p>If you are interested in what FAKE actually is, see our <a href="/guide/what-is-fake.html"><ins>FAQ</ins></a>.</p>
</blockquote>
<p>But before going into these details, let's first discuss the possible ways you can run FAKE.</p>
<h2><a name="Different-ways-to-run-FAKE" class="anchor" href="#Different-ways-to-run-FAKE">Different ways to run FAKE</a></h2>
<p>FAKE is built with modularity in mind, in which it doesn't constrain you with one way to write or run your build
scripts. Over the years, FAKE evolved and allowed users to consume and run FAKE in multiple ways, namely:</p>
<ul>
<li>Run FAKE using the FAKE runner</li>
<li>Run FAKE using FSI (F# interactive)</li>
<li>Run FAKE using a dedicated build project</li>
</ul>
<p>Let's discuss each approach.</p>
<h3><a name="Run-FAKE-using-the-FAKE-runner" class="anchor" href="#Run-FAKE-using-the-FAKE-runner">Run FAKE using the FAKE runner</a></h3>
<p>The simplest way to run a build script is to use the FAKE runner. The FAKE runner was the de-facto standard for running build
scripts in FAKE, because it offers multiple features that were not possible before, including, but not limited to, automatic resolution
of dependencies using the NuGet or Paket dependency managers and caching, which makes FAKE super fast.</p>
<p>Here, we're assuming you have already installed the FAKE runner (please see <a href="#Install-FAKE-Runner"><ins>Install FAKE Runner</ins></a> section below
on how to install the FAKE runner). To get started with the FAKE runner, create an F# interactive script (e.g.: <code>build.fsx</code>):</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="c">// include Fake modules, see Fake modules section</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>

<span class="c">// *** Define Targets ***</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Hello&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">printfn</span> <span class="s">&quot;hello from FAKE!&quot;</span>
<span class="pn">)</span>

<span class="c">// *** Start Build ***</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Hello&quot;</span>
</code></pre>
<p>Next, in a command line interface, navigate to the script directory and enter the following command (assuming
you installed the FAKE runner as a global <a href="https://learn.microsoft.com/en-us/dotnet/core/tools/global-tools">.NET tool</a>):</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">fake build
</code></pre></td></tr></table>
<p>You should see the message <code>hello from FAKE!</code> printed on the screen! You just ran your first script in FAKE!</p>
<p>The above script uses the Paket dependency manager to resolve and download FAKE's target module, which allows you
to define targets and organize your script. You can check <a href="/guide/core-targets.html"><ins>targets module documentation</ins></a>
for more information. After resolving the target module, the script opens the module and defines a target named <code>hello</code>
which prints a message to standard output. Finally, the final statement in the script is the entry point of your
script which designates the <code>Hello</code> target as the default target to run.</p>
<p>The automatic resolution of dependencies, caching and many other features are provided by the FAKE runner under the hood
to make running your script a breeze.</p>
<h3><a name="Run-FAKE-using-F-interactive-FSI" class="anchor" href="#Run-FAKE-using-F-interactive-FSI">Run FAKE using F# interactive (FSI)</a></h3>
<p>Next, let's discuss the second way, which is utilizing FSI to run our script. The FAKE runner was written to provide
features that were not available back then in FSI, including the dependencies resolution using a dependency manager
such as NuGet or Paket. However, FSI has evolved as well and now it offers these capabilities too.</p>
<p>Note that in the previous way the script is just a plain F# interactive file, nothing special about it! However,
to actually successfully run this script using FSI we need to tell FSI that it needs to use the Paket dependency manager to resolve
the dependency we specified (FAKE's target module). Paket has a
<a href="https://fsprojects.github.io/Paket/fsi-integration.html">step-by-step guide on how to let FSI know about it</a>.</p>
<p>After configuring Paket, you are ready to run your script. Enter the following command to do so:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet fsi build.fsx --compilertool:"~/.nuget/packages/fsharp.dependencymanager.paket/6.0.0-alpha055/lib/netstandard2.0"
</code></pre></td></tr></table>
<h3><a name="Run-FAKE-using-a-dedicated-build-project" class="anchor" href="#Run-FAKE-using-a-dedicated-build-project">Run FAKE using a dedicated build project</a></h3>
<p>The last method we will discuss is using a dedicated build project to host your build script and its
dependencies. The steps you need to take include:</p>
<ul>
<li>Create a new fsharp console project (e.g.: <code>build.fsproj</code>)</li>
<li>Add your build script to the project (e.g.: <code>build.fs</code>)</li>
<li>Add your dependencies to the project using Paket or NuGet</li>
<li>Add an <code>[&lt;EntryPoint&gt;]</code> to your script</li>
<li>Call your project using <code>dotnet run</code>. Probably from a <code>build.cmd</code> or <code>build.sh</code> file</li>
</ul>
<p>This method utilizes the standard .NET project management and dependency resolution and offers you the possibility to remain
in a familiar project-based build approach. That being the case, you can use the dotnet CLI as usual to add/remove dependencies
(packages) and to run the project.</p>
<p>The advantage of this approach is that it is in sync with the latest .NET SDK features which, in a given moment, might be not yet
handled by the available FAKE runner or FSI versions, making it easier to migrate a project to a newer .NET version. For example, one such feature
could be related to dependency (packages) resolution.
This approach is becoming increasingly popular in the FAKE community. Some of the projects that are
using this approach are:</p>
<ul>
<li><a href="https://github.com/TheAngryByrd/MiniScaffold"><ins>TheAngryByrd/MiniScaffold</ins></a></li>
<li><a href="https://github.com/CompositionalIT/SAFE-Dojo"><ins>CompositionalIT/SAFE-Dojo</ins></a></li>
</ul>
<p>You can examine these two repositories to get to know the approach and how to implement it in your own projects.</p>
<blockquote>
<p>Thanks to <a href="https://github.com/baronfel"><ins>@baronfel</ins></a> and <a href="https://github.com/aboy021"><ins>@aboy021</ins></a> for
proposing this solution and discussing it in this StackOverflow question:
<a href="https://stackoverflow.com/questions/66665009/fix-for-package-manager-key-paket-was-not-registered-in-build-fsx/"><ins>Fix for "Package manager key paket was not registered" in build.fsx</ins></a></p>
</blockquote>
<h2><a name="Install-FAKE-Runner" class="anchor" href="#Install-FAKE-Runner">Install FAKE Runner</a></h2>
<p>Now that you know the possible ways to run FAKE scripts, let's zoom in and see how to install the FAKE runner.
FAKE is completely written in F# and all build scripts will also be written in F#, but this doesn't imply that you
have to learn programming in F#. In fact the FAKE syntax is hopefully very easy to learn.</p>
<p>There are various ways to install FAKE:</p>
<ol>
<li>
<p>Install FAKE as a local <code>dotnet tool</code> (easiest, but
needs <a href="https://dotnet.microsoft.com/download"><ins>.NET Core SDK Version 3 or newer</ins></a>): First you need to create
a <a href="https://medium.com/@bilalfazlani/net-core-local-tools-are-here-fe9ac2464481"><ins>tool manifest</ins></a>, which
should be committed to your repository:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet new tool-manifest
</code></pre></td></tr></table>
<p>To install FAKE, run:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet tool install fake-cli
</code></pre></td></tr></table>
<p>Use <code>--version</code> to display the version of FAKE. See
the <a href="https://github.com/FakeBuild/fake-bootstrap/tree/local_tool"><ins><code>local_tool</code><ins></a> branch of <code>fake-bootstrap</code>
for ideas to bootstrap in your CI process.
To run fake use <code>dotnet fake build</code>. To restore/download fake on another machine use <code>dotnet tool restore</code> after this
command <code>dotnet fake build</code> should work as expected.</p>
</li>
<li>
<p>Install FAKE as a global <code>dotnet tool</code> (easiest, but
needs <a href="https://dotnet.microsoft.com/download"><ins>.NET Core SDK</ins></a>):
To install FAKE globally, run:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet tool install fake-cli -g
</code></pre></td></tr></table>
<p>To install FAKE into <code>your_tool_path</code>, run:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet tool install fake-cli --tool-path your_tool_path
</code></pre></td></tr></table>
<p>Use <code>--version</code> to display the version of FAKE. See
the <a href="https://github.com/FakeBuild/fake-bootstrap/tree/global_tool"><ins><code>global_tool</code></ins></a> branch
of <code>fake-bootstrap</code> for ideas to bootstrap in your CI process.
If you run into issues, see <a href="https://github.com/fsharp/FAKE/issues/2346"><ins>this</ins></a>.</p>
</li>
<li>
<p>Bootstrap via the <code>fake dotnet new</code> <a href="/guide/fake-template.html"><ins>template</ins></a>. The template
bootstraps FAKE and sets up a basic build-script. To install the template run:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet new -i "fake-template::*"
</code></pre></td></tr></table>
<p>Then run the template with:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet new fake
</code></pre></td></tr></table>
<p>See the <a href="/guide/fake-template.html"><ins>template</ins></a> page for more information. Install the <code>fake</code>
or <code>fake-netcore</code> package for your system (
currently <a href="https://chocolatey.org/install"><ins>chocolatey</ins></a>).
Example <code>choco install fake</code>.
We also provide a Debian package at the <a href="https://github.com/fsharp/FAKE/releases"><ins>releases-page</ins></a></p>
</li>
<li>
<p>Download the portable zip.
We distribute a .NET Core version of FAKE without the .NET Core runtime.
This version assumes an existing .NET SDK installation while the non-portable installation doesn't.</p>
<p>Just use the <code>-portable</code> version of <a href="https://github.com/fsharp/FAKE/releases"><ins>the downloads</ins></a>, extract it
and execute.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">dotnet fake.dll
</code></pre></td></tr></table>
<p>The advantage of this method is that it is portable (i.e. distributes the same binaries) and requires less bandwidth.
The disadvantage is that you need to have a .NET SDK installed and that you need to prefix all calls
with <code>dotnet /full/path/to/fake.dll &lt;args&gt;</code> which is equal to <code>fake &lt;args&gt;</code> in other installation methods.</p>
</li>
<li>
<p>Download the runtime specific zip.
Just use the <code>-&lt;runtime&gt;</code> version matching your specific platform
of <a href="https://github.com/fsharp/FAKE/releases"><ins>the downloads</ins></a> (for example <code>fake-dotnetcore-win7-x64.zip</code>),
extract it and execute the <code>fake</code> binary. Add the extracted binary to your <code>PATH</code> to just execute <code>fake</code> from any
directory.</p>
</li>
<li>
<p>Bootstrap via a shell script (<code>fake.cmd/fake.sh</code>), see
this <a href="https://github.com/FakeBuild/fake-bootstrap"><ins>example project</ins></a></p>
<blockquote>
<p>These scripts have no versioning story. You either need to take care of versions yourself (and lock them) or your
builds might break on major releases.</p>
</blockquote>
<p>now you can use</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">fake --help
</code></pre></td></tr></table>
<p>This is basically it. You can now execute FAKE commands.</p>
</li>
</ol>
<h3><a name="One-note-on-Intellisense" class="anchor" href="#One-note-on-Intellisense">One note on <em>Intellisense</em></a></h3>
<p>This section is to clarify how to get <em>intellisense</em> support updated after adding new modules (TL; DR: delete
the <code>&lt;script&gt;.fsx.lock</code> file and re-run FAKE to update all files).</p>
<blockquote>
<p>We recommend <a href="https://code.visualstudio.com/"><ins>Visual Studio Code</ins></a> with
the <a href="https://marketplace.visualstudio.com/items?itemName=Ionide.Ionide-fsharp"><ins>Ionide extension</ins></a>
for best FAKE tooling support, including proper debugging.</p>
</blockquote>
<ul>
<li>
<p>Assume you have a script <code>myscript.fsx</code> with the following contents:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.Core.Target prerelease&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/myscript.fsx/intellisense.fsx&quot;</span>
</code></pre>
<p>In this script, you can add all the <a href="/guide/fake-modules.html"><ins>FAKE modules</ins></a> you want or need (work through the
examples in the next section if this is new to you).</p>
</li>
<li>
<p>just run the script to restore your dependencies and get <em>intellisense</em> support: <code>fake run myscript.fsx</code>.
This might take some seconds depending on your internet connection</p>
</li>
</ul>
<blockquote>
<p>The warning <code>FS0988: Main module of program is empty: nothing will happen when it is run</code> indicates that you have not
written any code into the script yet.</p>
</blockquote>
<ul>
<li>now open the script in VS Code with ionide-fsharp extension or Visual Studio.</li>
</ul>
<p>Now if you change your dependencies, you'll need to delete <code>myscript.fsx.lock</code> and run the script again in order for
<em>intellisense</em> to update. Keep in mind that <em>intellisense</em> will show suggestions for the whole framework while the script is run as
<code>netcoreapp20</code>, therefore <em>intellisense</em> might show APIs which are not actually usable.</p>
<h2><a name="Examples" class="anchor" href="#Examples">Examples</a></h2>
<p>This section offers detailed steps to write a FAKE script to compile, test and run a .NET application. We'll start
with a minimal example as a refresher for the FAKE syntax and script structure. Then discuss the .NET application build
script, and, finally, we'll close this section with some advanced examples of FAKE scripts. Let's dive in.</p>
<h3><a name="Minimal-Example" class="anchor" href="#Minimal-Example">Minimal Example</a></h3>
<p>Create a file named <code>build.fsx</code> with the following contents:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="c">// include Fake modules, see Fake modules section</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>

<span class="c">// *** Define Targets ***</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Clean&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">log</span> <span class="s">&quot; --- Cleaning stuff --- &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Build&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">log</span> <span class="s">&quot; --- Building the app --- &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Deploy&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">log</span> <span class="s">&quot; --- Deploying app --- &quot;</span>
<span class="pn">)</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">TargetOperators</span>

<span class="c">// *** Define Dependencies ***</span>
<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Build&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Deploy&quot;</span>

<span class="c">// *** Start Build ***</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Deploy&quot;</span>
</code></pre>
<p>This is the minimal FAKE script, which has the following major parts:
1. The <code>#r</code> directive at the top defines the dependencies the project needs.
2. The <code>// *** Define Targets ***</code> section defines targets using the FAKE target module. These targets will hold your build logic.
3. The <code>// *** Define Dependencies ***</code> section defines the dependencies between your targets. In this example we have specified
that in order to run <code>Deploy</code>, <code>Build</code> must be run first, but in order to run <code>Build</code>, <code>Clean</code> must be run first. So the order is first
<code>Clean</code> then <code>Build</code> then <code>Deploy</code>.
4. The final statements designate the <code>Deploy</code> target as the default target to run.</p>
<p>Run this file by executing:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell">fake run build.fsx
</code></pre></td></tr></table>
<h3><a name="Compiling-and-Building-your-NET-Application" class="anchor" href="#Compiling-and-Building-your-NET-Application">Compiling and Building your .NET Application</a></h3>
<p>This example will guide you through adding a FAKE script to your existing .NET application.</p>
<h4><a name="Getting-Started-1" class="anchor" href="#Getting-Started-1">Getting Started</a></h4>
<p>Initially we need to create a file called <code>build.fsx</code> where all our build logic will reside.
Create a new file with Visual Studio or Visual Studio Code (with Ionide) and paste in the following content:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>
</code></pre>
<p>This is all we need for now to declare that we need the <code>Fake.Core.Target</code> module and want to enable <em>intellisense</em>.</p>
<p>Now run <code>fake run build.fsx</code> to make FAKE prepare our environment. Now our IDE can load the dependencies and we will
have <em>intellisense</em> enabled (you might need to reopen/reload the script file on some editors other than VS Code).</p>
<p>Now that we have set up our basic environment to edit the script file we can define our first target:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>

<span class="c">// Default target</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Default&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">trace</span> <span class="s">&quot;Hello World from FAKE&quot;</span>
<span class="pn">)</span>

<span class="c">// start build</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Default&quot;</span>
</code></pre>
<p>As you can see the code is really simple. The first few lines (<code>nuget Fake.Core.Target</code> and <code>open Fake.Core</code>) load the
FAKE modules we need and this is vital for all build scripts to support creating and running targets. The <code>#load</code> line
is optional but a good way to make the IDE aware of all the modules (for <em>intellisense</em> and IDE support)</p>
<p>After this header, the <em>Default</em> target is defined. A target definition contains two important parts: the first one is the
name of the target (here "Default") and the second one is an action (here, a simple trace logging of "Hello world").</p>
<p>The last line runs the "Default" target -- which means it executes the defined action of the target.</p>
<p>Try running your new target with <code>fake run build.fsx</code> or the shortcut for a file called <code>build.fsx</code>: <code>fake build</code></p>
<h4><a name="Cleaning-Output-From-a-Previous-Build" class="anchor" href="#Cleaning-Output-From-a-Previous-Build">Cleaning Output From a Previous Build</a></h4>
<p>A typical first step in most build scenarios is to clean the output of the last build. We can achieve this in two steps:</p>
<p>First change your header to the following by adding the <code>Fake.IO.FileSystem</code> module:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.IO.FileSystem</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>
</code></pre>
<p>Now we need to remove the <code>build.fsx.lock</code> file and run <code>fake build</code> in order to restore the newly
added <code>Fake.IO.FileSystem</code> module.</p>
<p>Since we now can rely on <em>intellisense</em> we can easily discover the various modules and functions in <code>Fake.IO</code>, for example
the <code>Shell</code> module provides various functions you expect from regular shell scripting. We will use <code>Shell.cleanDir</code>
which will ensure the given directory is empty by deleting everything in it or creating the directory if it doesn't exist yet:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.IO.FileSystem</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span>

<span class="c">// Properties</span>
<span class="k">let</span> <span class="id">buildDir</span> <span class="o">=</span> <span class="s">&quot;./build/&quot;</span>

<span class="c">// Targets</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Clean&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Shell</span><span class="pn">.</span><span class="id">cleanDir</span> <span class="id">buildDir</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Default&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">trace</span> <span class="s">&quot;Hello World from FAKE&quot;</span>
<span class="pn">)</span>

<span class="c">// Dependencies</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">TargetOperators</span>

<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Default&quot;</span>

<span class="c">// start build</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Default&quot;</span>
</code></pre>
<blockquote>
<p>You can explore the APIs for example by writing <code>Fake.IO.</code> and waiting for <em>intellisense</em> suggestions (or pressing
<code>Ctrl+Space</code>). You can remove <code>Fake.IO</code> once you put <code>open Fake.IO</code> on top.</p>
</blockquote>
<p>We introduced some new concepts in this snippet. At first we defined a global property called <code>buildDir</code> with the
relative path of a temporary build folder.</p>
<p>In the <code>Clean</code> target we use the <code>Shell.cleanDir</code> task to clean up this build directory. As explained above this simply
deletes all files in the folder or creates the directory if necessary.</p>
<p>In the dependencies section we say that the <em>Default</em> target has a dependency on the <em>Clean</em> target. In other words,
<em>Clean</em> is a prerequisite of <em>Default</em> and will run before the <em>Default</em> target is executed:</p>
<p><img src="/content/img/gettingstarted/afterclean.png" alt="alt text" title="We introduced a Clean target" /></p>
<h4><a name="Compiling-the-Application" class="anchor" href="#Compiling-the-Application">Compiling the Application</a></h4>
<p>In the next step we want to compile our C# libraries, which means we want to compile all csproj-files under <em>/src/app</em>
with MSBuild.</p>
<p>Again we need a new module for this, namely <code>Fake.DotNet.MSBuild</code>.</p>
<p>Just like before, add the required module to the top of the script with <code>nuget Fake.DotNet.MSBuild</code>, delete the <code>build.fsx.lock</code>
file and run the script again.
Edit the script so that it looks like this:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.IO.FileSystem</span>
<span class="s">nuget Fake.DotNet.MSBuild</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span><span class="pn">.</span><span class="id">Globbing</span><span class="pn">.</span><span class="id">Operators</span> <span class="c">//enables !! and globbing</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>

<span class="c">// Properties</span>
<span class="k">let</span> <span class="id">buildDir</span> <span class="o">=</span> <span class="s">&quot;./build/&quot;</span>

<span class="c">// Targets</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Clean&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Shell</span><span class="pn">.</span><span class="id">cleanDir</span> <span class="id">buildDir</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;BuildApp&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="o">!!</span> <span class="s">&quot;src/app/**/*.csproj&quot;</span>
    <span class="o">|&gt;</span> <span class="id">MSBuild</span><span class="pn">.</span><span class="id">runRelease</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">id</span> <span class="id">buildDir</span> <span class="s">&quot;Build&quot;</span>
    <span class="o">|&gt;</span> <span class="id">Trace</span><span class="pn">.</span><span class="id">logItems</span> <span class="s">&quot;AppBuild-Output: &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Default&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">trace</span> <span class="s">&quot;Hello World from FAKE&quot;</span>
<span class="pn">)</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">TargetOperators</span>

<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;BuildApp&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Default&quot;</span>

<span class="c">// start build</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Default&quot;</span>
</code></pre>
<p>We defined a new build target named "BuildApp" which compiles all csproj-files with the MSBuild task and the build
output will be copied to <code>buildDir</code>.</p>
<p>In order to find the right project files, FAKE scans the folder <em>src/app/</em> and all subfolders with the given pattern (
the <code>!!</code> operator was imported from <code>Fake.IO.FileSystem</code> via <code>open Fake.IO.Globbing.Operators</code>). Therefore a similar
FileSet definition like in NAnt or MSBuild (see <a href="https://github.com/fsharp/FAKE"><ins>project page</ins></a> for details)
is used.</p>
<p>In addition, the target dependencies are extended again. Now <em>Default</em> is dependent on <em>BuildApp</em> and <em>BuildApp</em> needs
<em>Clean</em> as a prerequisite.</p>
<p>This means the execution order is: Clean ==&gt; BuildApp ==&gt; Default.</p>
<p><img src="/content/img/gettingstarted/aftercompile.png" alt="alt text" title="We introduced a Build target" /></p>
<h4><a name="Compiling-Test-Projects" class="anchor" href="#Compiling-Test-Projects">Compiling Test Projects</a></h4>
<p>Now our main application will be built automatically and it's time to build the test project. We use the same concepts
as before:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.IO.FileSystem</span>
<span class="s">nuget Fake.DotNet.MSBuild</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span><span class="pn">.</span><span class="id">Globbing</span><span class="pn">.</span><span class="id">Operators</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>


<span class="c">// Properties</span>
<span class="k">let</span> <span class="id">buildDir</span> <span class="o">=</span> <span class="s">&quot;./build/&quot;</span>
<span class="k">let</span> <span class="id">testDir</span>  <span class="o">=</span> <span class="s">&quot;./test/&quot;</span>

<span class="c">// Targets</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Clean&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Shell</span><span class="pn">.</span><span class="id">cleanDirs</span> <span class="pn">[</span><span class="id">buildDir</span><span class="pn">;</span> <span class="id">testDir</span><span class="pn">]</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;BuildApp&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="o">!!</span> <span class="s">&quot;src/app/**/*.csproj&quot;</span>
    <span class="o">|&gt;</span> <span class="id">MSBuild</span><span class="pn">.</span><span class="id">runRelease</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="id">id</span> <span class="id">buildDir</span> <span class="s">&quot;Build&quot;</span>
    <span class="o">|&gt;</span> <span class="id">Trace</span><span class="pn">.</span><span class="id">logItems</span> <span class="s">&quot;AppBuild-Output: &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;BuildTest&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="o">!!</span> <span class="s">&quot;src/test/**/*.csproj&quot;</span>
    <span class="o">|&gt;</span> <span class="id">MSBuild</span><span class="pn">.</span><span class="id">runDebug</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">id</span> <span class="id">testDir</span> <span class="s">&quot;Build&quot;</span>
    <span class="o">|&gt;</span> <span class="id">Trace</span><span class="pn">.</span><span class="id">logItems</span> <span class="s">&quot;TestBuild-Output: &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Default&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
  <span class="id">Trace</span><span class="pn">.</span><span class="id">trace</span> <span class="s">&quot;Hello World from FAKE&quot;</span>
<span class="pn">)</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">TargetOperators</span>
<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;BuildApp&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;BuildTest&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Default&quot;</span>

<span class="c">// start build</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Default&quot;</span>
</code></pre>
<p>This time we defined a new target "BuildTest" which compiles all C# projects below <em>src/test/</em> in Debug mode and we
inserted this target into our build pipeline.</p>
<h4><a name="Running-the-Tests-with-NUnit" class="anchor" href="#Running-the-Tests-with-NUnit">Running the Tests with NUnit</a></h4>
<p>Now all our projects will be compiled and we can use FAKE's NUnit task in order to let NUnit test our assembly (we have
to add a new module for this: <code>Fake.DotNet.Testing.NUnit</code>):</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;paket:</span>
<span class="s">nuget Fake.IO.FileSystem</span>
<span class="s">nuget Fake.DotNet.MSBuild</span>
<span class="s">nuget Fake.DotNet.Testing.NUnit</span>
<span class="s">nuget Fake.Core.Target //&quot;</span>
<span class="pp">#load</span> <span class="s">&quot;./.fake/build.fsx/intellisense.fsx&quot;</span>

<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">IO</span><span class="pn">.</span><span class="id">Globbing</span><span class="pn">.</span><span class="id">Operators</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">Testing</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span>

<span class="c">// Properties</span>
<span class="k">let</span> <span class="id">buildDir</span> <span class="o">=</span> <span class="s">&quot;./build/&quot;</span>
<span class="k">let</span> <span class="id">testDir</span>  <span class="o">=</span> <span class="s">&quot;./test/&quot;</span>

<span class="c">// Targets</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Clean&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">Shell</span><span class="pn">.</span><span class="id">CleanDirs</span> <span class="pn">[</span><span class="id">buildDir</span><span class="pn">;</span> <span class="id">testDir</span><span class="pn">]</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;BuildApp&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
   <span class="o">!!</span> <span class="s">&quot;src/app/**/*.csproj&quot;</span>
     <span class="o">|&gt;</span> <span class="id">MSBuild</span><span class="pn">.</span><span class="id">runRelease</span> <span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="id">id</span> <span class="id">buildDir</span> <span class="s">&quot;Build&quot;</span>
     <span class="o">|&gt;</span> <span class="id">Trace</span><span class="pn">.</span><span class="id">logItems</span> <span class="s">&quot;AppBuild-Output: &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;BuildTest&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="o">!!</span> <span class="s">&quot;src/test/**/*.csproj&quot;</span>
      <span class="o">|&gt;</span> <span class="id">MSBuild</span><span class="pn">.</span><span class="id">runDebug</span> <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="id">id</span> <span class="id">testDir</span> <span class="s">&quot;Build&quot;</span>
      <span class="o">|&gt;</span> <span class="id">Trace</span><span class="pn">.</span><span class="id">logItems</span> <span class="s">&quot;TestBuild-Output: &quot;</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Test&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="o">!!</span> <span class="pn">(</span><span class="id">testDir</span> <span class="o">+</span> <span class="s">&quot;/NUnit.Test.*.dll&quot;</span><span class="pn">)</span>
      <span class="o">|&gt;</span> <span class="id">NUnit3</span><span class="pn">.</span><span class="id">run</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
          <span class="pn">{</span><span class="id">p</span> <span class="k">with</span>
                <span class="id">ShadowCopy</span> <span class="o">=</span> <span class="k">false</span> <span class="pn">}</span><span class="pn">)</span>
<span class="pn">)</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Default&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">Trace</span><span class="pn">.</span><span class="id">trace</span> <span class="s">&quot;Hello World from FAKE&quot;</span>
<span class="pn">)</span>

<span class="c">// Dependencies</span>
<span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">TargetOperators</span>
<span class="s">&quot;Clean&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;BuildApp&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;BuildTest&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Test&quot;</span>
  <span class="o">==&gt;</span> <span class="s">&quot;Default&quot;</span>

<span class="c">// start build</span>
<span class="id">Target</span><span class="pn">.</span><span class="id">runOrDefault</span> <span class="s">&quot;Default&quot;</span>
</code></pre>
<p>Our new <em>Test</em> target scans the test directory for test assemblies and runs them with the NUnit runner. FAKE
automatically tries to locate the runner in one of your subfolders. See
the <a href="/reference/fake-dotnet-testing-nunit3.html"><ins>NUnit3 task documentation</ins></a> if you need to specify the
tool path explicitly.</p>
<p>The mysterious part <strong><code>(fun p -&gt; ...)</code></strong> simply overrides the default parameters of the NUnit task and allows to specify
concrete parameters.</p>
<p><img src="/content/img/gettingstarted/alltestsgreen.png" alt="alt text" title="All tests green" /></p>
<h3><a name="Advanced-Examples" class="anchor" href="#Advanced-Examples">Advanced Examples</a></h3>
<p>You can check these repositories for advanced usage of FAKE:
- See <a href="https://github.com/fsprojects/FAKE/blob/master/build.fsx">FAKE <ins><code>build.fsx</code></ins></a>
- See <a href="https://github.com/SAFE-Stack/SAFE-template/blob/master/build.fsx">SAFE-Stack <ins><code>build.fsx</code></ins></a>
- See <a href="https://github.com/matthid/csharptofsharp/blob/master/build.fsx">csharptofsharp <ins><code>build.fsx</code></ins></a></p>
<h2><a name="Runtime-Assemblies-in-FAKE-Runner" class="anchor" href="#Runtime-Assemblies-in-FAKE-Runner">Runtime Assemblies in FAKE Runner</a></h2>
<p>FAKE runner uses <strong>.NET6</strong> runtime assemblies when compiling and running a script.</p>
<h2><a name="Get-to-Know-FAKE-CLI" class="anchor" href="#Get-to-Know-FAKE-CLI">Get to Know FAKE CLI</a></h2>
<p>See <a href="/articles/commandline.html"><ins>Fake command line</ins></a> for more information on command line and available
commands and options</p>
<h2><a name="What-s-Next" class="anchor" href="#What-s-Next">What's Next?</a></h2>
<ul>
<li>Add more modules specific to your application and discover the FAKE APIs</li>
<li>Read the <a href="//articles/what-is-fake.html"><ins>FAQ</ins></a> for some commonly asked questions</li>
<li>Take a look at some of the samples in <a href="https://github.com/FakeBuild"><ins>FakeBuild</ins></a></li>
<li>
Check out <a href="https://github.com/fsharp/FAKE/blob/master/build.fsx"><ins>FAKEs own build script</ins></a> or other examples
across the F# ecosystem
</li>
<li>Add FAKE build scripts to your own projects and let us know</li>
<li>Automate stuff with FAKE and use standalone scripts</li>
<li>
Write your own modules and let us know -- we love to add them to the navigation or announce them
on <a href="https://twitter.com/fsharpMake"><ins>twitter</ins></a>
</li>
<li>Contribute :)</li>
</ul>

        </div>
    </div>

    <footer class="bg-[#f9f9f9] flex lg:border lg:border-l-0 lg:border-r-0 lg:ml-[25rem] mt-40 pb-40 pt-10 px-10">
        <div class="flex flex-col lg:flex-row lg:space-y-0 max-w-6xl mx-auto space-y-10">
            <div class="flex flex-col justify-between lg:w-2/3">
                <div class="space-y-10 flex flex-col lg:flex-row lg:space-y-0">
                    <div class="lg:mr-16">
                        <h4 class="flex items-center text-slate-700 text-xl">
                            <span class="block border-l-2 border-l-[#d4b43c] flex items-center">
                                <span class="-ml-2 inline-block text-[#d4b43c]">
                                    <svg class="h-5 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </span>
                                <span class="inline-block">Important Links</span>
                            </span>
                        </h4>
                        <ul class="mt-3 space-y-3">
                            <li class="border-b"><a class="hover:text-[#d4b43c]"
                                    href="/guide/getting-started.html">Getting
                                    started</a></li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]"
                                    href="/guide/fake-modules.html">Modules</a>
                            </li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]"
                                    href="/guide/fake-modules.html#Declaring-FAKE-dependencies-within-the-script">FAKE
                                    Header</a></li>
                        </ul>
                    </div>
                    <div class="lg:mx-16">
                        <h4 class="text-slate-700 text-xl">
                            <span class="block border-l-2 border-l-[#d4b43c] flex items-center">
                                <span class="-ml-2 inline-block text-[#d4b43c]">
                                    <svg class="h-5 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </span>
                                <span class="inline-block">Further projects</span>
                            </span>
                        </h4>
                        <ul class="mt-3 space-y-3">
                            <li class="border-b"><a class="hover:text-[#d4b43c]"
                                    href="https://fsprojects.github.io/Paket/">Paket</a>
                            </li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]"
                                    href="https://fsprojects.github.io/FSharp.Formatting/">FSharp
                                    Formatting</a></li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]" href="https://fsharp.org/">F#</a></li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]" href="https://ionide.io/">Ionide</a>
                            </li>
                            <li class="border-b"><a class="hover:text-[#d4b43c]" href="https://forge.run/">Forge</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="mt-10 mx-auto w-full">
                    <p>© FAKE. All rights reserved | Version:
                        <a class="hover:text-[#d4b43c]" href="https://github.com/fsprojects/FAKE/releases">
                            <span>6.1.1</span>
                        </a>
                    </p>
                </div>
            </div>
            <div class="lg:w-1/3 space-y-3">
                <h4 class="flex items-center text-slate-700 text-xl">
                    <span class="block border-l-2 border-l-[#d4b43c] flex items-center">
                        <span class="-ml-2 inline-block text-[#d4b43c]">
                            <svg class="h-5 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                                </path>
                            </svg>
                        </span>
                        <span class="inline-block">FAKE is a community effort</span>
                    </span>
                </h4>
                <p class="text-justify">Please help with the development of FAKE, a free, fully open source DSL and
                    Runtime for
                    running F# scripts. Look at the open issues at
                    <a href="https://github.com/fsprojects/FAKE/issues">GitHub</a>, discuss new features, fix bugs and
                    send pull requests!
                </p>
                <div class="block py-8">
                    <a href="/guide/contributing.html">
                        <span
                            class="border border-l-2 border-l-[#d4b43c] flex group hover:text-[#d4b43c] items-center px-4 py-2 rounded-r w-max pr-8">
                            <span class="invisible group-hover:text-[#d4b43c] group-hover:visible">
                                <svg class="h-5 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </span>
                            <span>Learn more</span>
                        </span>
                    </a>
                </div>

                <h4 class="text-lg">Get in touch</h4>

                <div class="flex items-center space-x-2">
                    <a href="https://twitter.com/fsharpMake" class="block text-slate-400 hover:text-[#d4b43c]"><span
                            class="sr-only">FAKE Twitter Account</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26">
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M22.75 6.73a8.058 8.058 0 0 1-2.3.633 4.005 4.005 0 0 0 1.76-2.199 8.026 8.026 0 0 1-2.542.961 4.001 4.001 0 0 0-2.918-1.25c-2.207 0-4 1.777-4 3.965 0 .308.035.613.105.906A11.409 11.409 0 0 1 4.61 5.598a3.91 3.91 0 0 0-.543 1.996c0 1.379.707 2.59 1.782 3.304a4.08 4.08 0 0 1-1.817-.496v.047c0 1.922 1.38 3.524 3.211 3.89-.336.09-.687.141-1.054.141a4.01 4.01 0 0 1-.754-.074 4.014 4.014 0 0 0 3.738 2.758 8.105 8.105 0 0 1-4.969 1.695c-.324 0-.64-.015-.953-.054a11.43 11.43 0 0 0 6.133 1.777c7.36 0 11.383-6.043 11.383-11.285 0-.172-.004-.34-.012-.512A7.863 7.863 0 0 0 22.75 6.73" />
                        </svg>
                    </a>
                    <a href="https://fake.build" class="ml-2 block text-slate-400 hover:text-[#d4b43c]"><span
                            class="sr-only">FAKE Website</span>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                            </path>
                        </svg>
                    </a>
                    <a href="https://github.com/fsprojects/fake"
                        class="ml-3 block text-slate-400 hover:text-[#d4b43c]"><span class="sr-only">FAKE GitHub
                            Repository</span>
                        <svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentColor" aria-hidden="true">
                            <path
                                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                            </path>
                        </svg>
                    </a>
                    <a href="https://fsharp.slack.com/" class="ml-3 block text-slate-400 hover:text-[#d4b43c]"><span
                            class="sr-only">FSharp Slack Workspace</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M15.125 3.668a1.833 1.833 0 1 0-3.668 0v5.039a1.834 1.834 0 1 0 3.668 0Zm4.582 5.039a1.83 1.83 0 0 1-1.832 1.836h-1.832V8.707a1.83 1.83 0 0 1 1.832-1.832 1.83 1.83 0 0 1 1.832 1.832Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M3.668 6.418A1.83 1.83 0 0 0 1.832 8.25a1.83 1.83 0 0 0 1.836 1.832h5.039a1.83 1.83 0 0 0 1.836-1.832 1.83 1.83 0 0 0-1.836-1.832Zm5.039-4.586c1.016 0 1.836.82 1.836 1.836V5.5H8.707a1.832 1.832 0 0 1-1.832-1.832c0-1.016.82-1.836 1.832-1.836Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M6.418 17.879c0 1.012.816 1.828 1.832 1.828a1.826 1.826 0 0 0 1.832-1.828v-5.035a1.83 1.83 0 0 0-1.832-1.832 1.83 1.83 0 0 0-1.832 1.832Zm-4.586-5.035c0-1.012.82-1.832 1.836-1.832H5.5v1.832c0 1.008-.82 1.828-1.832 1.828a1.832 1.832 0 0 1-1.836-1.828Zm0 0" />
                            <path style="stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1"
                                d="M17.875 15.125a1.83 1.83 0 0 0 1.832-1.832 1.83 1.83 0 0 0-1.832-1.836h-5.043c-1.012 0-1.832.82-1.832 1.836 0 1.012.82 1.832 1.832 1.832Zm-5.043 4.582A1.83 1.83 0 0 1 11 17.875v-1.832h1.832a1.83 1.83 0 0 1 1.836 1.832 1.83 1.83 0 0 1-1.836 1.832Zm0 0" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <script type="text/javascript" src="/content/assets/js/prism.js"></script>
</body>

</html>