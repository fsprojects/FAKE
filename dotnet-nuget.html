<!DOCTYPE html>
<html lang="en" class="has-navbar-fixed-top">

<head>
	<title>NuGet package restore
</title>
	<meta charset="utf-8" />

	<!-- from https://realfavicongenerator.net -->
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#2d89ef">
	<meta name="theme-color" content="#ffffff">


	<meta name="author" content="Steffen Forkmann, Mauricio Scheffer, Colin Bull, Matthias Dittrich" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.css">
	<link rel="stylesheet" href="/assets/css/bulmaswatch.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-tomorrow.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/toolbar/prism-toolbar.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.css">
	<link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
	<nav class="navbar is-dark is-fixed-top" role="navigation" aria-label="main navigation">
		<div class="navbar-brand">
			<a class="navbar-item no-hover" href="/">
				<img src="/assets/img/logo.svg" alt="FAKE - F# Make - A DSL for build tasks and more" width="28" height="28">
				<span class="p-l-sm">FAKE</span>
			</a>

			<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbar">
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
				<span aria-hidden="true"></span>
			</a>
		</div>

		<div id="navbar" class="navbar-menu">
			<div class="navbar-start">
				<div class="navbar-item has-dropdown is-hoverable">
					<a class="navbar-link">Tutorials</a>
					<div class="navbar-dropdown">
						<a href="/fake-gettingstarted.html" class="navbar-item">Getting started</a>
						<a href="/fake-commandline.html" class="navbar-item">Running FAKE from command line</a>
						<a href="/fake-template.html" class="navbar-item">FAKE template</a>
						<a href="/fake-debugging.html" class="navbar-item">Debugging scripts</a>
                        <a href="/fake-completion.html" class="navbar-item">FAKE command-line completion</a>
						<a href="/fake-fake5-custom-modules.html" class="navbar-item">Create custom modules</a>
					</div>
				</div>

				<div class="navbar-item has-dropdown is-hoverable">
					<a class="navbar-link">About</a>
					<div class="navbar-dropdown" class="navbar-item">
						<a href="/help-users.html" class="navbar-item">Who is using FAKE?</a>
						<a href="/fake-what-is-fake.html" class="navbar-item">FAQ?</a>
						<a href="/help-supporters.html" class="navbar-item">Supporters</a>
						<a href="https://www.nuget.org/packages/FAKE" class="navbar-item">NuGet</a>
						<a href="https://chocolatey.org/packages/fake" class="navbar-item">Chocolatey</a>
						<a href="https://github.com/fsharp/FAKE/blob/master/License.txt" class="navbar-item">License</a>
						<a href="/RELEASE_NOTES.html" class="navbar-item">Release Notes</a>
						<a href="/contributing.html" class="navbar-item">Contributing</a>
						<a href="https://github.com/fsharp/FAKE/issues/new" class="navbar-item">Ask a question or
							report a bug</a>
					</div>
				</div>

				<div class="navbar-item has-dropdown is-hoverable">
					<a href="/fake-fake5-modules.html" class="navbar-link">Modules</a>
					<div class="navbar-dropdown" class="navbar-item">
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Api" class="navbar-link">API</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/api-slack.html" class="navbar-item">Slack</a>
								<a href="/apidocs/v5/fake-api-github.html" class="navbar-item">GitHub</a>
								<a href="/apidocs/v5/fake-api-hockeyapp.html" class="navbar-item">HockeyApp</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Azure" class="navbar-link">Azure</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-azure-cloudservices.html" class="navbar-item">CloudServices</a>
								<a href="/apidocs/v5/fake-azure-emulators.html" class="navbar-item">Emulators</a>
								<a href="/apidocs/v5/fake-azure-kudu.html" class="navbar-item">Kudu</a>
								<a href="/apidocs/v5/fake-azure-webjobs.html" class="navbar-item">WebJobs</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
                        	<a href="/apidocs/v5/index.html#Fake.Build" class="navbar-link">Build</a>
                        	<div class="navbar-dropdown" class="navbar-item">
                                <a href="/apidocs/v5/fake-build-cmake.html" class="navbar-item">CMake</a>
                            </div>
                        </div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/buildserver.html" class="navbar-link">BuildServer</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/index.html#Fake.BuildServer" class="navbar-item">Api-Reference</a>
								<a href="/apidocs/v5/fake-buildserver-appveyor.html" class="navbar-item">AppVeyor</a>
								<a href="/apidocs/v5/fake-buildserver-teamfoundation.html" class="navbar-item">Azure
									DevOps</a>
								<a href="/apidocs/v5/fake-buildserver-gitlab.html" class="navbar-item">GitLab</a>
								<a href="/apidocs/v5/fake-buildserver-githubactions.html" class="navbar-item">GitHub Actions</a>
								<a href="/apidocs/v5/fake-buildserver-teamcity.html" class="navbar-item">TeamCity</a>
								<a href="/apidocs/v5/fake-buildserver-travis.html" class="navbar-item">Travis</a>
								<a href="/apidocs/v5/fake-buildserver-bitbucketpipelines.html" class="navbar-item">Bitbucket</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/core.html" class="navbar-link">Core</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-core-buildserver.html" class="navbar-item">BuildServer</a>
								<a href="/apidocs/v5/fake-core-changelog.html" class="navbar-item">ChangeLog</a>
								<a href="/core-commandlineparsing.html" class="navbar-item">CommandLineParsing</a>
								<a href="/apidocs/v5/fake-core-context.html" class="navbar-item">Context</a>
								<a href="/apidocs/v5/fake-core-environment.html" class="navbar-item">Environment</a>
								<a href="/core-process.html" class="navbar-item">Process</a>
								<a href="/apidocs/v5/fake-core-releasenotes.html" class="navbar-item">ReleaseNotes</a>
								<a href="/apidocs/v5/fake-core-semver.html" class="navbar-item">SemVer</a>
								<a href="/apidocs/v5/fake-core-string.html" class="navbar-item">String</a>
								<a href="/core-targets.html" class="navbar-item">Targets</a>
								<a href="/apidocs/v5/fake-core-taskrunner.html" class="navbar-item">Tasks</a>
								<a href="/core-trace.html" class="navbar-item">Trace</a>
								<a href="/apidocs/v5/fake-core-userinput.html" class="navbar-item">UserInput</a>
								<a href="/core-vault.html" class="navbar-item">Vault</a>
								<a href="/apidocs/v5/fake-core-xml.html" class="navbar-item">Xml</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Documentation" class="navbar-link">Documentation</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-documentation-docfx.html" class="navbar-item">DocFx</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.DotNet" class="navbar-link">DotNet</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/dotnet-cli.html" class="navbar-item">Cli</a>
								<a href="/dotnet-assemblyinfo.html" class="navbar-item">AssemblyInfoFile</a>
								<a href="/apidocs/v5/fake-dotnet-fsc.html" class="navbar-item">Fsc</a>
								<a href="/apidocs/v5/fake-dotnet-fsi.html" class="navbar-item">Fsi</a>
								<a href="/apidocs/v5/fake-dotnet-fxcop.html" class="navbar-item">FxCop</a>
								<a href="/apidocs/v5/fake-dotnet-msbuild.html" class="navbar-item">MSBuild</a>
								<a href="/apidocs/v5/fake-dotnet-ilmerge.html" class="navbar-item">ILMerge</a>
								<a href="/apidocs/v5/fake-dotnet-testing-nunit3.html" class="navbar-item">Testing -
									NUnit</a>
								<a href="/apidocs/v5/fake-dotnet-testing-mspec.html" class="navbar-item">Testing -
									MSpec</a>
								<a href="/apidocs/v5/fake-dotnet-testing-xunit2.html" class="navbar-item">Testing -
									XUnit2</a>
								<a href="/apidocs/v5/fake-dotnet-testing-expecto.html" class="navbar-item">Testing -
									Expecto</a>
								<a href="/apidocs/v5/fake-dotnet-testing-vstest.html" class="navbar-item">Testing -
									VSTest</a>
								<a href="/fake-dotnet-testing-specflow.html" class="navbar-item">Testing - SpecFlow</a>
								<a href="/dotnet-testing-opencover.html" class="navbar-item">Testing - OpenCover</a>
								<a href="/apidocs/v5/fake-dotnet-testing-dotcover.html" class="navbar-item">Testing -
									DotCover</a>
								<a href="/dotnet-testing-coverlet.html" class="navbar-item">Testing -
									Coverlet</a>
								<a href="/dotnet-nuget.html" class="navbar-item">NuGet</a>
								<a href="/apidocs/v5/fake-dotnet-mage.html" class="navbar-item">Mage</a>
								<a href="/apidocs/v5/fake-dotnet-paket.html" class="navbar-item">Paket</a>
								<a href="/apidocs/v5/fake-dotnet-xdt.html" class="navbar-item">XML Transforms</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/core-targets.html" class="navbar-link">DSL</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="https://github.com/vbfox/FoxSharp/blob/master/src/BlackFox.Fake.BuildTask/Readme.md" class="navbar-item">BlackFox.Fake.BuildTask</a>
								<a href="https://github.com/xakebuild/Xake" class="navbar-item">Xake</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/index.html#Fake.Installer" class="navbar-link">Installer</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-installer-innosetup.html" class="navbar-item">InnoSetup</a>
								<a href="/fake-installer-squirrel.html" class="navbar-item">Squirrel</a>
								<a href="/apidocs/v5/fake-installer-wix.html" class="navbar-item">Wix</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/index.html#Fake.IO" class="navbar-link">IO</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/index.html#Fake.IO" class="navbar-item">FileSystem</a>
								<a href="/apidocs/v5/fake-io-changewatcher.html" class="navbar-item">Change Watcher</a>
								<a href="/apidocs/v5/fake-io-globbing-operators.html" class="navbar-item">Globbing</a>
								<a href="/apidocs/v5/fake-io-zip.html#Functions and values" class="navbar-item">Zip</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.JavaScript" class="navbar-link">JavaScript</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-javascript-npm.html" class="navbar-item">Npm</a>
								<a href="/apidocs/v5/fake-javascript-yarn.html" class="navbar-item">Yarn</a>
								<a href="/apidocs/v5/fake-javascript-typescript.html" class="navbar-item">TypeScript</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Net" class="navbar-link">Net</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/net-http.html" class="navbar-item">Http</a>
								<a href="/apidocs/v5/fake-net-ssh.html" class="navbar-item">SSH</a>
							    <a href="/apidocs/v5/fake-net-ftp.html" class="navbar-item">FTP</a>
                            </div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Sql" class="navbar-link">Sql</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/sql-dacpac.html" class="navbar-item">DacPac</a>
								<a href="/sql-sqlpackage.html" class="navbar-item">SqlPackage</a>
								<a href="/sql-sqlserver.html" class="navbar-item">SQL Server</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Testing" class="navbar-link">Testing</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/testing-sonarqube.html" class="navbar-item">SonarQube</a>
                                <a href="/testing-reportgenerator.html" class="navbar-item">ReportGenerator</a>
                                <a href="/testing-fixie.html" class="navbar-item">Fixie</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Tools" class="navbar-link">Tools</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/index.html#Fake.Tools.Git" class="navbar-item">Git</a>
								<a href="/fake-tools-gitversion.html" class="navbar-item">GitVersion</a>
								<a href="/fake-tools-pickles.html" class="navbar-item">Pickles</a>
								<a href="/fake-tools-octo.html" class="navbar-item">Octo</a>
								<a href="/apidocs/v5/fake-tools-rsync.html" class="navbar-item">Rsync</a>
								<a href="/fake-tools-signtool.html" class="navbar-item">SignTool</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/index.html#Fake.Windows" class="navbar-link">Windows</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/windows-chocolatey.html" class="navbar-item">Chocolatey</a>
							</div>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/apidocs/v5/fake-windows-registry.html" class="navbar-item">Registry</a>
							</div>
						</div>
						<div class="navbar-item has-dropdown is-hoverable">
							<a href="/apidocs/v5/legacy/index.html#Fake" class="navbar-link">Legacy / Not Migrated</a>
							<div class="navbar-dropdown" class="navbar-item">
								<a href="/todo-fluentmigrator.html" class="navbar-item">?.?.FluentMigrator</a>
								<a href="/todo-androidpublisher.html" class="navbar-item">?.?.AndroidPublisher</a>
								<a href="/todo-wix.html" class="navbar-item">Windows.WiX</a>
								<a href="/todo-msteamsnotification.html" class="navbar-item">API.MsTeams</a>
								<a href="/todo-stylecop.html" class="navbar-item">DotNet.StyleCop</a>
								<a href="/todo-deploy.html" class="navbar-item">Fake.Deploy</a>
								<a href="/todo-iis.html" class="navbar-item">?.?.IIS</a>
								<a href="/todo-vagrant.html" class="navbar-item">?.?.Vagrant</a>
								<a href="/todo-fxcop.html" class="navbar-item">DotNet.FxCop</a>
								<a href="/todo-canopy.html" class="navbar-item">DotNet.Testing.Canopy</a>
								<a href="/todo-octopusdeploy.html" class="navbar-item">?.?.OctopusDeploy</a>
								<a href="/todo-typescript.html" class="navbar-item">JavaScript?.TypeScript</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="navbar-end">
				<div class="navbar-item has-dropdown is-hoverable">
					<a href="/apidocs/v5/index.html" class="navbar-link">API Reference</a>
					<div class="navbar-dropdown is-right">
						<a href="/apidocs/v5/index.html" class="navbar-item">FAKE 5 API Reference</a>
						<a href="/apidocs/v5/legacy/index.html" class="navbar-item">FAKE 5 Migration API</a>
						<a href="/apidocs/v4/index.html" class="navbar-item">FAKE 4 API Reference</a>
					</div>
				</div>

				<div class="navbar-item has-dropdown is-hoverable">
					<a class="navbar-link">FAKE 4</a>
					<div class="navbar-dropdown is-right">
						<a href="/fake-migrate-to-fake-5.html" class="navbar-item">FAKE migration</a>
						<a href="/legacy-gettingstarted.html" class="navbar-item">Getting started</a>
						<a href="/help-docs.html" class="navbar-item">Where is XYZ???</a>
						<a href="/legacy-commandline.html" class="navbar-item">Running FAKE from command line</a>
						<a href="/legacy-core-targets.html" class="navbar-item">Targets</a>
						<a href="/fake-cache.html" class="navbar-item">Build script caching</a>
					</div>
				</div>
				<div class="navbar-item no-hover">
					<div class="buttons">
						<a href="https://github.com/fsharp/FAKE" class="m-r-sm">
							<i class="fab fa-github fa-lg fa-fw"></i>
						</a>
						<a href="https://twitter.com/fsharpMake" class="m-r-sm">
							<i class="fab fa-twitter fa-lg fa-fw"></i>
						</a>
						<a href="https://fsharp.slack.com/" class="m-r-sm">
							<i class="fab fa-slack fa-lg fa-fw"></i>
						</a>
					</div>
				</div>
			</div>
		</div>
	</nav>

	
<section id="content" class="section">
	<div class="columns">
		<div class="column is-9-desktop is-12-mobile">
			<article class="content">
				<h1><a name="NuGet-package-restore" class="anchor" href="#NuGet-package-restore">NuGet package restore</a></h1>
<div class="alert alert-info">
    <h5>INFO</h5>
    <p>This documentation is for FAKE.exe before version 5 (or the non-netcore version). The documentation needs te be updated, please help!</p>
</div>
<p>If you are using a source control system like <a href="http://git-scm.com/">git</a> you probably don't want to store all binary dependencies in it.
With FAKE you can use <a href="http://nuget.codeplex.com/">NuGet</a> to download all dependent packages during the build.</p>
<h2><a name="Setting-the-stage-for-NuGet" class="anchor" href="#Setting-the-stage-for-NuGet">Setting the stage for NuGet</a></h2>
<p>In order to download the packages during the build we need to add NuGet.exe to our repository.
You can download the "NuGet.exe Command Line Tool" from the <a href="https://github.com/NuGet/Home/releases">release page</a>.</p>
<h2><a name="Restore-packages-from-the-build-script" class="anchor" href="#Restore-packages-from-the-build-script">Restore packages from the build script</a></h2>
<p>Modify your build script and add <strong>RestorePackages()</strong> near the beginning of the script.
This will use the default parameters to retrieve all NuGet packages specified in <em>"./**/packages.config"</em> files.</p>
<p>If you need to use different parameters please use the <a href="apidocs/v5/legacy/fake-restorepackagehelper.html">RestorePackage</a> task directly.</p>
<h2><a name="Download-latest-version-of-FAKE-via-NuGet" class="anchor" href="#Download-latest-version-of-FAKE-via-NuGet">Download latest version of FAKE via NuGet</a></h2>
<p>If you don't want to store FAKE.exe and its components in your repository, you can use a batch file which downloads it before the build:</p>
<p><pre><code class="language-bash">
@echo off
cls
"tools\nuget\nuget.exe" "install" "FAKE" "-OutputDirectory" "tools" "-ExcludeVersion"
"tools\FAKE\tools\Fake.exe" build.fsx
pause
</code></pre></p>
<h1><a name="Creating-NuGet-packages" class="anchor" href="#Creating-NuGet-packages">Creating NuGet packages</a></h1>
<h2><a name="Creating-a-nuspec-template" class="anchor" href="#Creating-a-nuspec-template">Creating a .nuspec template</a></h2>
<p>The basic idea to create nuget packages is to create a .nuspec template and let FAKE fill out the missing parts.
The following code shows such .nuspec file from the <a href="https://github.com/octokit/octokit.net">OctoKit</a> project.</p>
<pre data-src="nuspec-example.xml"><code class="language-xml">
<p></code></pre>
The .nuspec template contains some placeholders like <code>@build.number@</code> which can be replaced later by the build script.
It also contains some specific information like the copyright which is not handled by FAKE.</p>
<p>The following table gives the correspondence between the placeholders and the fields of the record type used by the NuGet task.</p>
<table>
<thead>
<tr class="header">
<th align="left"><p>Placeholder</p></th>
<th align="left"><p>replaced by (<code>NuGetParams</code> record field)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><code>@build.number@</code></p></td>
<td align="left"><p><code>Version</code></p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@authors@</code></p></td>
<td align="left"><p><code>Authors</code></p></td>
</tr>
<tr class="odd">
<td align="left"><p><code>@project@</code></p></td>
<td align="left"><p><code>Project</code></p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@summary@</code></p></td>
<td align="left"><p><code>Summary</code></p></td>
</tr>
<tr class="odd">
<td align="left"><p><code>@description@</code></p></td>
<td align="left"><p><code>Description</code></p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@tags@</code></p></td>
<td align="left"><p><code>Tags</code></p></td>
</tr>
<tr class="odd">
<td align="left"><p><code>@releaseNotes@</code></p></td>
<td align="left"><p><code>ReleaseNotes</code></p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@copyright@</code></p></td>
<td align="left"><p><code>Copyright</code></p></td>
</tr>
<tr class="odd">
<td align="left"><p><code>@dependencies@</code></p></td>
<td align="left"><p>a combination of <code>Dependencies</code> and <code>DependenciesByFramework</code></p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@references@</code></p></td>
<td align="left"><p>a combination of <code>References</code> and <code>ReferencesByFramework</code></p></td>
</tr>
<tr class="odd">
<td align="left"><p><code>@contentFiles@</code></p></td>
<td align="left"><p>a list of <a href="https://docs.microsoft.com/en-us/nuget/reference/nuspec#using-the-contentfiles-element-for-content-files">contentFiles</a> to be included in the nuget package</p></td>
</tr>
<tr class="even">
<td align="left"><p><code>@files@</code></p></td>
<td align="left"><p>a list of source, target, and exclude strings for files to be included in the nuget package</p></td>
</tr>
</tbody>
</table>

<h2><a name="Setting-up-the-build-script" class="anchor" href="#Setting-up-the-build-script">Setting up the build script</a></h2>
<p>In the build script you need to create a target which executes the <a href="apidocs/v5/legacy/fake-nugethelper.html">NuGet task</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">NuGet</span>

<span class="id">Target</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;CreatePackage&quot;</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">copyFiles</span> <span class="id">packagingOutputDirectory</span> <span class="id">allFilesToPackage</span>
    <span class="id">NuGet</span><span class="pn">.</span><span class="id">NuGet</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
        <span class="pn">{</span> <span class="id">p</span> <span class="k">with</span>
            <span class="id">Version</span> <span class="o">=</span> <span class="id">buildVersion</span>
            <span class="id">Authors</span> <span class="o">=</span> <span class="id">authors</span>
            <span class="id">Project</span> <span class="o">=</span> <span class="id">projectName</span>
            <span class="id">Summary</span> <span class="o">=</span> <span class="id">projectSummary</span>
            <span class="id">Description</span> <span class="o">=</span> <span class="id">projectDescription</span>
            <span class="id">WorkingDir</span> <span class="o">=</span> <span class="id">packagingDirectory</span>
            <span class="id">OutputPath</span> <span class="o">=</span> <span class="id">artifactOutputDirectory</span>
            <span class="id">AccessKey</span> <span class="o">=</span> <span class="id">myAccessKey</span>
            <span class="id">Publish</span> <span class="o">=</span> <span class="k">true</span> <span class="pn">}</span><span class="pn">)</span>
        <span class="s">&quot;template.nuspec&quot;</span>
<span class="pn">)</span>
</code></pre></td>
</tr>
</table>
<p>There are a couple of interesting things happening here. In this sample FAKE created:</p>
<ul>
<li>a copy of the .nuspec file</li>
<li>filled in all the specified parameters</li>
<li>created the NuGet package</li>
<li>pushed it to <a href="http://www.nuget.org">nuget.org</a> using the given <code>myAccessKey</code>.</li>
</ul>
<h2><a name="Handling-package-dependencies" class="anchor" href="#Handling-package-dependencies">Handling package dependencies</a></h2>
<p>If your project depends on other projects it is possible to specify these dependencies in the .nuspec definition (see also <a href="http://docs.nuget.org/docs/reference/nuspec-reference#Specifying_Dependencies_in_version_2.0_and_above">Nuget docs</a>).
Here is a small sample which sets up dependencies for different framework versions:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">NuGet</span>

<span class="id">NuGet</span><span class="pn">.</span><span class="id">NuGet</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
    <span class="pn">{</span> <span class="id">p</span> <span class="k">with</span>
        <span class="id">Authors</span> <span class="o">=</span> <span class="id">authors</span>
        <span class="c">// fallback - for all unspecified frameworks</span>
        <span class="id">Dependencies</span> <span class="o">=</span> <span class="pn">[</span>
            <span class="s">&quot;Octokit&quot;</span><span class="pn">,</span> <span class="s">&quot;0.1&quot;</span>
            <span class="s">&quot;Rx-Main&quot;</span><span class="pn">,</span> <span class="id">NuGet</span><span class="pn">.</span><span class="id">GetPackageVersion</span> <span class="s">&quot;./packages&quot;</span> <span class="s">&quot;Rx-Main&quot;</span><span class="pn">]</span>
        <span class="id">DependenciesByFramework</span> <span class="o">=</span> <span class="pn">[</span>
            <span class="pn">{</span> <span class="id">FrameworkVersion</span> <span class="o">=</span> <span class="s">&quot;net40&quot;</span>
                <span class="id">Dependencies</span> <span class="o">=</span> <span class="pn">[</span>
                    <span class="s">&quot;Octokit&quot;</span><span class="pn">,</span> <span class="s">&quot;0.1&quot;</span>
                    <span class="s">&quot;Rx-Main&quot;</span><span class="pn">,</span> <span class="id">NuGet</span><span class="pn">.</span><span class="id">GetPackageVersion</span> <span class="s">&quot;./packages/&quot;</span> <span class="s">&quot;Rx-Main&quot;</span>
                    <span class="s">&quot;SignalR&quot;</span><span class="pn">,</span> <span class="id">NuGet</span><span class="pn">.</span><span class="id">GetPackageVersion</span> <span class="s">&quot;./packages/&quot;</span> <span class="s">&quot;SignalR&quot;</span> <span class="pn">]</span><span class="pn">}</span>
            <span class="pn">{</span> <span class="id">FrameworkVersion</span>  <span class="o">=</span> <span class="s">&quot;net45&quot;</span>
                <span class="id">Dependencies</span> <span class="o">=</span> <span class="pn">[</span>
                    <span class="s">&quot;Octokit&quot;</span><span class="pn">,</span> <span class="s">&quot;0.1&quot;</span>
                    <span class="s">&quot;SignalR&quot;</span><span class="pn">,</span> <span class="id">NuGet</span><span class="pn">.</span><span class="id">GetPackageVersion</span> <span class="s">&quot;./packages/&quot;</span> <span class="s">&quot;SignalR&quot;</span><span class="pn">]</span><span class="pn">}</span>
        <span class="pn">]</span>
        <span class="c">// ...</span>
        <span class="id">Publish</span> <span class="o">=</span> <span class="k">true</span> <span class="pn">}</span><span class="pn">)</span>
    <span class="s">&quot;template.nuspec&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Explicit-assembly-references" class="anchor" href="#Explicit-assembly-references">Explicit assembly references</a></h2>
<p>If you want to have auxiliary assemblies next to the ones that get referenced by the target project, you can place  all the needed files in the <code>lib</code> directory and explicitly specify which of them should be referenced (see <a href="http://docs.nuget.org/docs/reference/nuspec-reference#Specifying_Explicit_Assembly_References_in_version_2.5_and_above">Nuget docs</a>) via the <code>References</code> and <code>ReferencesByFramework</code> fields.
Here is a code snippet showing how to use these:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">NuGet</span>

<span class="id">NuGet</span><span class="pn">.</span><span class="id">NuGet</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
    <span class="pn">{</span> <span class="id">p</span> <span class="k">with</span>
         <span class="id">Authors</span> <span class="o">=</span> <span class="id">authors</span>
         <span class="c">// ...</span>
         <span class="id">References</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;a.dll&quot;</span><span class="pn">]</span>
         <span class="id">ReferencesByFramework</span> <span class="o">=</span>
             <span class="pn">[</span><span class="pn">{</span> <span class="id">FrameworkVersion</span>  <span class="o">=</span> <span class="s">&quot;net40&quot;</span><span class="pn">;</span> <span class="id">References</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;b.dll&quot;</span><span class="pn">]</span><span class="pn">}</span>
              <span class="pn">{</span> <span class="id">FrameworkVersion</span>  <span class="o">=</span> <span class="s">&quot;net45&quot;</span><span class="pn">;</span> <span class="id">References</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;c.dll&quot;</span><span class="pn">]</span><span class="pn">}</span><span class="pn">]</span>
         <span class="c">// ...</span>
         <span class="id">Publish</span> <span class="o">=</span> <span class="k">false</span> <span class="pn">}</span><span class="pn">)</span>
    <span class="s">&quot;template.nuspec&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Explicit-file-specifications" class="anchor" href="#Explicit-file-specifications">Explicit file specifications</a></h2>
<p>If you want to specify exactly what files are packaged and where they are placed in the resulting NuGet package you can specify the Files property directly.  This is exactly like having the Files element of a nuspec filled out ahead of time.
Here is a code snippet showing how to use this:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">NuGet</span>

<span class="c">// Here we are specifically only taking the js and css folders from our project and placing them in matching target folder in the resulting nuspec.</span>
<span class="c">// Note that the include paths are relative to the location of the .nuspec file</span>
<span class="c">// See [Nuget docs](http://docs.nuget.org/docs/reference/nuspec-reference#Specifying_Files_to_Include_in_the_Package) for more detailed examples of how to specify file includes, as this follows the same syntax.</span>
<span class="id">NuGet</span><span class="pn">.</span><span class="id">NuGet</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
    <span class="pn">{</span><span class="id">p</span> <span class="k">with</span>
        <span class="c">// ...</span>
        <span class="id">Files</span> <span class="o">=</span> <span class="pn">[</span>
            <span class="pn">(</span><span class="s">@&quot;tools\**\*.*&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="id">None</span><span class="pn">)</span>
            <span class="pn">(</span><span class="s">@&quot;bin\Debug\*.dll&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="id">Some</span> <span class="s">&quot;lib&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">Some</span> <span class="s">&quot;badfile.css;otherbadfile.css&quot;</span><span class="pn">)</span>
        <span class="pn">]</span>
        <span class="c">// ...</span>
    <span class="pn">}</span><span class="pn">)</span>
    <span class="s">&quot;template.nuspec&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="NuGet-ContentFiles" class="anchor" href="#NuGet-ContentFiles">NuGet ContentFiles</a></h2>
<p>ContentFiles in NuGet are static files that the NuGet client will make available to a project for inclusion in the project.  For more information see this <a href="https://blog.nuget.org/20160126/nuget-contentFiles-demystified.html">blog post</a> explaining the difference and relationship to the Files element.</p>
<p>The ContentFiles param supports all the documented nuspec contentFiles <a href="https://docs.microsoft.com/en-us/nuget/reference/nuspec#using-the-contentfiles-element-for-content-files">attributes</a>.</p>
<p>It takes a value of type <code>list&lt;string*string option*string option*bool option*bool option&gt;</code> where each tuple part maps respectively to the following <a href="(https://docs.microsoft.com/en-us/nuget/reference/nuspec#using-the-contentfiles-element-for-content-files)">attributes</a>:</p>
<ul>
<li>include</li>
<li>exclude</li>
<li>buildAction</li>
<li>copyToOutput</li>
<li>flatten</li>
</ul>
<p>Here is a code snippet showing how to use ContentFiles:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">NuGet</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
    <span class="pn">{</span><span class="id">p</span> <span class="k">with</span>
        <span class="c">// ...</span>
        <span class="id">ContentFiles</span> <span class="o">=</span> <span class="pn">[</span>
            <span class="pn">(</span><span class="s">@&quot;**/*.md&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="id">Some</span> <span class="s">@&quot;**/Exclude/*.md&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="id">Some</span> <span class="s">@&quot;Content&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="id">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="id">None</span><span class="pn">)</span>
        <span class="pn">]</span>
        <span class="c">// ...</span>
    <span class="pn">}</span><span class="pn">)</span>
    <span class="s">&quot;template.nuspec&quot;</span>
</code></pre></td>
</tr>
</table>

				<div class="tip" id="fs1">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs2">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>

			</article>
		</div>

		<aside class="menu column is-3 is-hidden-touch">
			<ul class="menu-list"></ul>
		</aside>
	</div>
</section>

	<footer>
		<div class="hero is-dark">
			<div class="hero-body">
				<div class="container">
					<div class="columns">
						<div class="column is-6">
							<div class="columns">
								<div class="column is-6">
									<h4 class="title is-4">Important links</h4>
									<ul class="has-text-grey-light">
										<li><a href="/fake-gettingstarted.html">Getting started</a></li>
										<li><a href="/fake-fake5-modules.html">Modules</a></li>
										<li><a href="/fake-fake5-modules.html#Declaring-FAKE-5-dependencies-within-the-script">FAKE Header</a></li>
									</ul>
								</div>
								<div class="column is-6">
									<h4 class="title is-4">Further projects</h4>
									<ul class="has-text-grey-light">
										<li><a href="https://fsprojects.github.io/Paket/">Paket</a></li>
										<li><a href="https://fsprojects.github.io/FSharp.Formatting/">FSharp Formatting</a></li>
										<li><a href="http://fsharp.org/">F#</a></li>
										<li><a href="http://ionide.io/">Ionide</a></li>
										<li><a href="http://forge.run/">Forge</a></li>
										<li><a href="https://fsharp.github.io/FSharp.Compiler.Service/">FSharp.Compiler.Service</a></li>
									</ul>
								</div>
							</div>
							<div class="p-t-lg has-text-grey-light">Â© FAKE. All rights reserved | Page generated with Version: <a href="https://github.com/fsharp/FAKE/releases">5.23.0-alpha001</a></div>
						</div>
						<div class="column is-6">
							<h4 class="title is-4">FAKE is a community effort</h4>
							<p>Please help with the development of FAKE, a free, fully open source DSL and Runtime for
								running F# scripts. Look at the open issues at <a href="https://github.com/fsharp/FAKE/issues">GitHub</a>,
								discuss new features, fix bugs and
								send pull requests!</p>
							<a href="/contributing.html" class="button is-light is-medium m-t-md">Learn more</a>

							<h4 class="title is-4 m-t-lg">Get in touch</h4>

							<div class="footer-contact">
								<div class="columns">
									<div class="column is-2">Twitter</div>
									<div class="column is-6"><a href="https://twitter.com/fsharpMake">@fsharpMake</a></div>
								</div>
								<div class="columns">
									<div class="column is-2">WWW</div>
									<div class="column is-6"><a href="https://fake.build">fake.build</a></div>
								</div>
								<div class="columns">
									<div class="column is-2">GitHub</div>
									<div class="column is-6"><a href="https://github.com/fsharp/FAKE">GitHub</a></div>
								</div>
								<div class="columns">
									<div class="column is-2">F# Slack</div>
									<div class="column is-6"><a href="https://fsharp.slack.com/">Slack</a></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-fsharp.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-batch.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-json.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/toolbar/prism-toolbar.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
	<script src="/assets/js/tips.js" type="text/javascript"></script>
	<script src="/assets/js/bulma.js"></script>
</body>

</html>
